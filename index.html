<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Document Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <!-- Header -->
    <header class="bg-gray-800 py-6 shadow-lg">
        <div class="container mx-auto flex justify-between items-center px-6">
            <h1 class="text-3xl font-bold tracking-wide">Document Library</h1>
            <div>
                <button id="loginBtn" class="bg-gray-700 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-gray-600 transition">
                    Login
                </button>
                <button id="logoutBtn" class="bg-red-700 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-600 transition hidden">
                    Logout
                </button>
            </div>
        </div>
    </header>

    <!-- Main Section -->
    <main class="container mx-auto px-6 py-8">
        <!-- Status Message -->
        <div id="status" class="text-center text-gray-400 text-lg mb-8">Please login to view the documents.</div>

        <!-- Breadcrumb Navigation -->
        <nav id="breadcrumb" class="flex items-center space-x-4 mb-6 text-gray-300 hidden">
            <span class="text-gray-500">You are here:</span>
            <div id="breadcrumb-links" class="flex space-x-2"></div>
        </nav>

        <!-- Document Table -->
        <table id="documentsTable" class="table-auto w-full bg-gray-800 shadow-lg rounded-lg hidden">
            <thead>
                <tr class="bg-gray-700 text-gray-100">
                    <th class="px-4 py-3 text-left">Name</th>
                    <th class="px-4 py-3 text-left">Type</th>
                    <th class="px-4 py-3 text-left">Modified By</th>
                    <th class="px-4 py-3 text-left">Last Modified</th>
                </tr>
            </thead>
            <tbody class="text-gray-300"></tbody>
        </table>
    </main>

    <script>
        // Mock Data for Testing
        const mockData = [
            {
                name: "Folder 1",
                type: "folder",
                children: [
                    { name: "Document1.pdf", type: "file", modifiedBy: "John Doe", modifiedDate: new Date().toISOString() },
                    { name: "Document2.docx", type: "file", modifiedBy: "Jane Smith", modifiedDate: new Date().toISOString() },
                ],
            },
            {
                name: "Folder 2",
                type: "folder",
                children: [
                    { name: "Spreadsheet.xlsx", type: "file", modifiedBy: "Emily Johnson", modifiedDate: new Date().toISOString() },
                ],
            },
            {
                name: "Presentation.pptx",
                type: "file",
                modifiedBy: "Michael Brown",
                modifiedDate: new Date().toISOString(),
            },
        ];

        let currentFolder = mockData; // Track the current folder contents
        const breadcrumb = []; // Track navigation path

        function updateBreadcrumb() {
            const breadcrumbLinks = document.getElementById("breadcrumb-links");
            breadcrumbLinks.innerHTML = "";
            breadcrumb.forEach((crumb, index) => {
                const link = document.createElement("button");
                link.className = "text-blue-400 hover:underline";
                link.textContent = crumb.name;
                link.onclick = () => navigateTo(index);
                breadcrumbLinks.appendChild(link);
                if (index < breadcrumb.length - 1) {
                    const separator = document.createElement("span");
                    separator.textContent = " / ";
                    breadcrumbLinks.appendChild(separator);
                }
            });
        }

        function navigateTo(index) {
            if (index < 0) {
                currentFolder = mockData;
                breadcrumb.length = 0;
            } else {
                currentFolder = breadcrumb[index].children;
                breadcrumb.length = index + 1;
            }
            displayDocuments();
        }

        function displayDocuments() {
            const table = document.getElementById("documentsTable");
            const tbody = table.querySelector("tbody");
            const breadcrumbNav = document.getElementById("breadcrumb");

            tbody.innerHTML = ""; // Clear previous data
            breadcrumbNav.classList.remove("hidden");
            table.classList.remove("hidden");

            updateBreadcrumb();

            currentFolder.forEach((item) => {
                const row = document.createElement("tr");
                row.className = "border-b border-gray-700 hover:bg-gray-700 transition";

                if (item.type === "folder") {
                    row.innerHTML = `
                        <td class="px-4 py-3">
                            <button class="text-blue-400 hover:underline" onclick="openFolder('${item.name}')">${item.name}</button>
                        </td>
                        <td class="px-4 py-3">Folder</td>
                        <td class="px-4 py-3">-</td>
                        <td class="px-4 py-3">-</td>
                    `;
                } else {
                    row.innerHTML = `
                        <td class="px-4 py-3">
                            <a href="#" class="text-blue-400 hover:underline">${item.name}</a>
                        </td>
                        <td class="px-4 py-3">File</td>
                        <td class="px-4 py-3">${item.modifiedBy || "Unknown"}</td>
                        <td class="px-4 py-3">${new Date(item.modifiedDate).toLocaleDateString()}</td>
                    `;
                }
                tbody.appendChild(row);
            });
        }

        function openFolder(folderName) {
            const folder = currentFolder.find((item) => item.name === folderName && item.type === "folder");
            if (folder) {
                breadcrumb.push(folder);
                currentFolder = folder.children;
                displayDocuments();
            }
        }

        // Populate mock data on load for testing
        document.addEventListener("DOMContentLoaded", () => {
            navigateTo(-1); // Load root directory
        });
    </script>
</body>
</html>
